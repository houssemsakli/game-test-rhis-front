<div class="login-container"
    style="max-width:420px;margin:48px auto;padding:20px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.08);background:#fff;font-family:Arial,Helvetica,sans-serif">
    <h2 style="margin:0 0 12px 0;text-align:center">Connexion</h2>

    <div *ngIf="isLoggedIn(); else loginForm">
        <div style="padding:12px;border-radius:6px;background:#f0f8ff;margin-bottom:12px;text-align:center">
            <div style="font-weight:700">Vous êtes connecté</div>
            <div style="font-size:13px;color:#555">Utilisateur : {{ getConnectedUsername() }}</div>
        </div>

        <div style="display:flex;gap:8px;justify-content:center">
            <button (click)="logout()"
                style="padding:8px 14px;border-radius:6px;border:none;background:#d9534f;color:#fff;cursor:pointer">
                Déconnexion
            </button>
            <button routerLink="/lobby"
                style="padding:8px 14px;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer">
                Aller au lobby
            </button>

        </div>
    </div>

    <ng-template #loginForm>
        <form (ngSubmit)="login()" style="display:flex;flex-direction:column;gap:10px">
            <label style="font-size:13px;color:#333">Nom d'utilisateur</label>
            <input [(ngModel)]="username" name="username" required maxlength="64"
                style="padding:10px;border-radius:6px;border:1px solid #ccc" />

            <label style="font-size:13px;color:#333">Mot de passe</label>
            <input [(ngModel)]="password" name="password" type="password" required maxlength="64"
                style="padding:10px;border-radius:6px;border:1px solid #ccc" />

            <div *ngIf="error" style="color:#a94442;background:#f2dede;padding:8px;border-radius:6px;font-size:13px">
                {{ error }}
            </div>

            <div style="display:flex;gap:8px;justify-content:space-between;align-items:center">
                <button type="submit" [disabled]="loading"
                    style="padding:10px 14px;border-radius:6px;border:none;background:#337ab7;color:#fff;cursor:pointer">
                    {{ loading ? 'Connexion...' : 'Se connecter' }}
                </button>
                <a routerLink="/register" style="font-size:13px;color:#337ab7;text-decoration:none">Créer un compte</a>
            </div>
        </form>
    </ng-template>
</div>